<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Virezza ‚Äî Trade Influence</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      /* Backgrounds ‚Äî deep navy-purple matching logo dark field */
      --bg:  #0d0b14;
      --bg2: #121019;
      --bg3: #1a1628;

      /* Gradient arc: coral ‚Üí gold ‚Üí teal ‚Üí periwinkle (direct from logo sweep) */
      --accent-start: #f07264;   /* coral-salmon */
      --accent-mid:   #f5b06e;   /* warm gold    */
      --accent-end:   #3de8d8;   /* mint-teal     */
      --accent-blue:  #7a8cff;   /* periwinkle    */

      /* Convenience aliases (replaces old named vars) */
      --coral:    #f07264;
      --peach:    #f5905a;
      --lavender: #9b8fe0;
      --mint:     #3de8d8;
      --crimson:  #f05070;

      /* Gradient shorthands */
      --gradient-primary: linear-gradient(135deg, var(--accent-start), var(--accent-mid), var(--accent-end));
      --gradient-h:       linear-gradient(90deg,  var(--accent-start), var(--accent-mid), var(--accent-end));
      --gradient-glow:    linear-gradient(135deg, var(--accent-start), var(--accent-blue));

      /* Text */
      --text:  #f0edf8;
      --muted: #7a7490;

      /* Surfaces */
      --card:   rgba(255,255,255,0.04);
      --border: rgba(255,255,255,0.08);
    }

    html { scroll-behavior: smooth; overflow-x: hidden; }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'DM Sans', sans-serif;
      font-weight: 400;
      line-height: 1.6;
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
      pointer-events: none;
      z-index: 0;
      opacity: 0.4;
    }

    h1, h2, h3 { font-family: 'Syne', sans-serif; line-height: 1.1; }

    /* NAV */
    nav {
      position: fixed; top: 0; left: 0; right: 0; z-index: 100;
      padding: 1.2rem 2rem;
      display: flex; align-items: center; justify-content: space-between;
      background: rgba(13,11,20,0.75);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
    }
    .logo {
      font-family: 'Syne', sans-serif; font-weight: 800; font-size: 1.4rem;
      letter-spacing: -0.03em; color: var(--text); text-decoration: none;
      display: flex; align-items: center; gap: 0.1em;
    }
    .logo .v-mark { color: var(--coral); display: inline-block; transform: skewX(-4deg); font-style: italic; }
    nav a { color: var(--muted); text-decoration: none; font-size: 0.9rem; transition: color 0.2s; }
    nav a:hover { color: var(--text); }
    .nav-links { display: flex; gap: 2rem; align-items: center; }

    /* BUTTONS */
    .btn {
      display: inline-flex; align-items: center; gap: 0.5rem;
      padding: 0.75rem 1.6rem; border-radius: 100px;
      font-family: 'DM Sans', sans-serif; font-size: 0.95rem; font-weight: 500;
      cursor: pointer; border: none; text-decoration: none; transition: all 0.25s ease;
    }
    .btn-primary { background: var(--gradient-primary); color: white; }
    .btn-primary:hover { background: var(--gradient-primary); filter: brightness(1.1); box-shadow: 0 0 28px rgba(240,114,100,0.4), 0 0 60px rgba(61,232,216,0.15); transform: translateY(-1px); }
    .btn-ghost { background: transparent; color: var(--text); border: 1px solid var(--border); }
    .btn-ghost:hover { border-color: rgba(255,255,255,0.22); background: rgba(255,255,255,0.05); }

    section { position: relative; z-index: 2; }
    .container { max-width: 1100px; margin: 0 auto; padding: 0 2rem; }

    /* HERO */
    .hero { min-height: 100vh; display: flex; align-items: center; padding-top: 80px; overflow: hidden; }
    .hero-bg {
      position: absolute; inset: 0;
      background:
        radial-gradient(ellipse 60% 50% at 70% 40%, rgba(240,114,100,0.11) 0%, transparent 70%),
        radial-gradient(ellipse 50% 60% at 20% 70%, rgba(61,232,216,0.07) 0%, transparent 70%),
        var(--bg);
    }
    .hero-inner { position: relative; z-index: 2; display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: center; width: 100%; }
    .hero-tag {
      display: inline-flex; align-items: center; gap: 0.5rem;
      background: rgba(240,114,100,0.1); border: 1px solid rgba(240,114,100,0.22);
      border-radius: 100px; padding: 0.3rem 0.9rem;
      font-size: 0.8rem; color: var(--coral); font-weight: 500; margin-bottom: 1.5rem; letter-spacing: 0.02em;
    }
    .hero-tag .dot { width: 6px; height: 6px; border-radius: 50%; background: var(--coral); animation: pulse 2s infinite; }
    @keyframes pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:0.5;transform:scale(0.8)} }
    .hero h1 { font-size: clamp(3.5rem, 6vw, 5.5rem); font-weight: 800; letter-spacing: -0.04em; line-height: 1; margin-bottom: 0.2rem; }
    .hero h1 .highlight { background: var(--gradient-primary); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
    .hero-sub { font-size: 1.15rem; color: var(--muted); max-width: 440px; margin: 1.2rem 0 2rem; line-height: 1.7; }
    .hero-sub strong { color: var(--text); font-weight: 500; }
    .hero-btns { display: flex; gap: 1rem; flex-wrap: wrap; }

    /* CHANGE 1 ‚Äî hero clarity line */
    .hero-clarity { font-size: 0.9rem; color: rgba(240,237,248,0.65); max-width: 420px; margin: -0.8rem 0 1.6rem; line-height: 1.6; letter-spacing: 0.01em; }

    /* CHANGE 2 ‚Äî live pill + ticker on card */
    .card-live-pill {
      display: inline-flex; align-items: center; gap: 0.3rem;
      background: rgba(61,232,216,0.1); border: 1px solid rgba(61,232,216,0.25);
      border-radius: 100px; padding: 0.15rem 0.55rem;
      font-size: 0.62rem; font-weight: 700; letter-spacing: 0.08em;
      color: var(--mint); margin-bottom: 0.5rem;
    }
    .card-live-pill .live-dot {
      width: 5px; height: 5px; border-radius: 50%; background: var(--mint);
      animation: pulse 2s infinite;
    }
    .card-ticker { font-size: 0.7rem; color: var(--mint); margin-top: 0.4rem; opacity: 0.7; }

    /* CHANGE 4 ‚Äî leaderboard "you" row highlight */
    .lb-row-you {
      background: rgba(61,232,216,0.04);
      border: 1px solid rgba(61,232,216,0.14) !important;
      border-radius: 0;
    }
    .lb-row-you .lb-name { color: var(--text); font-weight: 600; }
    .lb-row-you .lb-score-you { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 0.9rem; color: var(--muted); font-style: italic; }

    /* CHANGE 6 ‚Äî creator economy stat bar */
    .stat-bar {
      padding: 2rem 0 2.5rem;
      margin-top: 0;
      border-top: none;
    }
    .stat-bar-text {
      font-size: 0.9rem; color: rgba(240,237,248,0.45);
      line-height: 1.65; max-width: 640px;
    }
    .stat-bar-text strong { color: rgba(240,237,248,0.75); font-weight: 600; }

    /* hero‚Üíhow gradient bridge */
    .hero-bridge {
      background: linear-gradient(to bottom, var(--bg), var(--bg2));
      position: relative; z-index: 1;
      padding-bottom: 0; margin-top: -1px;
    }
    .whatif-block { background: rgba(255,255,255,0.035) !important; }

    /* CREATOR CARDS */
    .cards-float { position: relative; /* height set in UPGRADE 1 block below */ }
    .creator-card {
      position: absolute; background: var(--card); border: 1px solid var(--border);
      border-radius: 20px; padding: 1.2rem 1.4rem; backdrop-filter: blur(10px); min-width: 190px;
      transition: transform 0.4s ease, box-shadow 0.4s ease;
    }
    .creator-card:hover { transform: translateY(-6px) !important; box-shadow: 0 20px 40px rgba(0,0,0,0.3); }
    @keyframes float1 { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }
    @keyframes float2 { 0%,100%{transform:translateY(0)} 50%{transform:translateY(8px)} }
    .card-top { display: flex; align-items: center; gap: 0.7rem; margin-bottom: 0.8rem; }
    .avatar { width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; }
    .card-name { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 0.9rem; }
    .card-handle { font-size: 0.75rem; color: var(--muted); }
    .card-price { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 1.3rem; }
    .card-change { font-size: 0.78rem; font-weight: 500; padding: 0.2rem 0.5rem; border-radius: 6px; display: inline-block; margin-top: 0.25rem; }
    .up { color: var(--mint); }
    .up-bg { background: rgba(61,232,216,0.1); color: var(--mint); }
    .down { color: var(--crimson); }
    .down-bg { background: rgba(240,80,112,0.1); color: var(--crimson); }
    .sparkline { width: 100%; height: 32px; margin-top: 0.7rem; }

    /* HOW IT WORKS */
    .how { padding: 5rem 0 5.5rem; background: var(--bg2); }
    .section-label { font-size: 0.8rem; font-weight: 600; letter-spacing: 0.12em; text-transform: uppercase; color: var(--coral); margin-bottom: 0.8rem; }
    .section-title { font-size: clamp(2rem, 4vw, 3rem); font-weight: 800; letter-spacing: -0.03em; margin-bottom: 1rem; }
    .section-sub { font-size: 1.05rem; color: var(--muted); max-width: 500px; margin-bottom: 2.5rem; }
    .steps-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; }
    .step-card {
      background: var(--card); border: 1px solid var(--border); border-radius: 24px; padding: 2rem;
      transition: transform 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
      position: relative; overflow: hidden;
    }
    .step-card::before { content:''; position:absolute; top:0; left:0; right:0; height:2px; background: var(--gradient-h); opacity:0; transition:opacity 0.3s; }
    .step-card:hover { transform: translateY(-4px); border-color: rgba(240,114,100,0.2); box-shadow: 0 16px 40px rgba(0,0,0,0.35); }
    .step-card:hover::before { opacity: 1; }
    .step-num { font-family: 'Syne', sans-serif; font-size: 0.75rem; font-weight: 700; letter-spacing: 0.1em; color: var(--coral); margin-bottom: 1rem; }
    .step-icon { font-size: 2rem; margin-bottom: 1rem; display: block; }
    .step-title { font-size: 1.1rem; font-weight: 700; margin-bottom: 0.5rem; }
    .step-desc { font-size: 0.9rem; color: var(--muted); line-height: 1.65; }

    /* WHAT IF BLOCK */
    .whatif-wrap {
      margin-top: 2.5rem;
      opacity: 0; transform: translateY(24px);
      transition: opacity 0.7s ease, transform 0.7s ease;
    }
    .whatif-wrap.in-view { opacity: 1; transform: translateY(0); }
    .whatif-block {
      background: var(--card); border: 1px solid var(--border);
      border-radius: 28px; padding: 2.5rem 3rem;
      position: relative; overflow: hidden;
    }
    .whatif-block::before {
      content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px;
      background: var(--gradient-h);
    }
    .whatif-eyebrow { font-size: 0.78rem; font-weight: 600; letter-spacing: 0.12em; text-transform: uppercase; color: var(--coral); margin-bottom: 0.6rem; }
    .whatif-headline { font-family: 'Syne', sans-serif; font-size: clamp(1.5rem, 3vw, 2.2rem); font-weight: 800; letter-spacing: -0.03em; margin-bottom: 0.4rem; }
    .whatif-sub { font-size: 1rem; color: var(--muted); margin-bottom: 2.5rem; }
    .whatif-inner { display: flex; flex-direction: column; gap: 0; }
    .whatif-nodes-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 2rem; }
    .whatif-node { display: flex; flex-direction: column; gap: 0.3rem; }
    .whatif-node-label { font-size: 0.7rem; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: var(--muted); margin-bottom: 0.4rem; }
    .whatif-subs { font-size: 0.88rem; color: var(--muted); }
    .whatif-price { font-family: 'Syne', sans-serif; font-size: 1.6rem; font-weight: 800; color: var(--text); line-height: 1; }
    .whatif-price.now { color: var(--mint); }
    .whatif-chart-col { display: flex; flex-direction: column; align-items: stretch; width: 100%; }
    .whatif-chart-col svg { width: 100%; height: auto; display: block; }
    .whatif-growth-pct {
      margin-top: 1.8rem; display: inline-flex; align-items: center; gap: 0.5rem;
      background: rgba(61,232,216,0.08); border: 1px solid rgba(61,232,216,0.2);
      border-radius: 100px; padding: 0.45rem 1.1rem;
      font-family: 'Syne', sans-serif; font-size: 1rem; font-weight: 800; color: var(--mint);
    }
    .whatif-coins {
      margin-top: 2rem; padding: 1.3rem 1.8rem;
      background: linear-gradient(135deg, rgba(240,114,100,0.08), rgba(61,232,216,0.06));
      border: 1px solid rgba(240,114,100,0.16); border-radius: 18px;
      font-size: 0.95rem; color: var(--muted); line-height: 1.7;
    }
    .whatif-coins strong { color: var(--text); font-weight: 600; }
    .whatif-coins .highlight-coin { color: var(--mint); font-family: 'Syne', sans-serif; font-weight: 800; }
    .whatif-disclaimer { font-size: 0.72rem; color: var(--muted); opacity: 0.45; margin-top: 1rem; text-align: center; }
    @media (max-width: 768px) {
      .whatif-block { padding: 1.8rem 1.4rem; }
      .whatif-nodes-row { grid-template-columns: 1fr; gap: 1.2rem; }
    }

    /* COMPETE */
    .compete { padding: 5rem 0; }
    .compete-inner { display: grid; grid-template-columns: 1fr 1fr; gap: 5rem; align-items: center; }
    .compete-features { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 2.5rem; }
    .feature-pill { background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 1.2rem; transition: all 0.25s ease; }
    .feature-pill:hover { border-color: rgba(155,143,224,0.3); background: rgba(100,85,180,0.08); transform: translateY(-2px); }
    .feature-emoji { font-size: 1.4rem; margin-bottom: 0.5rem; display: block; }
    .feature-label { font-size: 0.85rem; font-weight: 600; color: var(--text); }
    .feature-desc { font-size: 0.78rem; color: var(--muted); margin-top: 0.2rem; }
    .leaderboard-mock { background: var(--bg3); border: 1px solid var(--border); border-radius: 24px; overflow: hidden; }
    .lb-header { padding: 1.2rem 1.5rem; border-bottom: 1px solid var(--border); display: flex; align-items: center; gap: 0.6rem; }
    .lb-title { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 0.95rem; }
    .lb-badge { font-size: 0.7rem; font-weight: 600; background: rgba(240,114,100,0.15); color: var(--coral); padding: 0.2rem 0.6rem; border-radius: 20px; border: 1px solid rgba(240,114,100,0.2); }
    .lb-row { display: flex; align-items: center; gap: 1rem; padding: 0.9rem 1.5rem; border-bottom: 1px solid var(--border); transition: background 0.2s; }
    .lb-row:last-child { border-bottom: none; }
    .lb-row:hover { background: rgba(255,255,255,0.03); }
    .lb-rank { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 0.9rem; width: 22px; color: var(--muted); }
    .lb-rank.gold { color: #f5c842; }
    .lb-av { width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.9rem; }
    .lb-name { flex: 1; font-weight: 500; font-size: 0.9rem; }
    .lb-score { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 0.9rem; }

    /* SIGNUP */
    .signup { padding: 5rem 0; background: var(--bg2); }
    .signup-box { max-width: 560px; margin: 0 auto; text-align: center; }
    .signup-box p { color: var(--muted); font-size: 1rem; margin-bottom: 2.5rem; }
    .email-form { display: flex; gap: 0.6rem; background: var(--bg3); border: 1px solid var(--border); border-radius: 100px; padding: 0.4rem 0.4rem 0.4rem 1.4rem; transition: border-color 0.3s, box-shadow 0.3s; }
    .email-form:focus-within { border-color: rgba(240,114,100,0.45); box-shadow: 0 0 0 4px rgba(240,114,100,0.09); }
    .email-form.typing { border-color: rgba(240,114,100,0.6); box-shadow: 0 0 0 5px rgba(240,114,100,0.12); }
    .email-form input { flex: 1; background: none; border: none; outline: none; color: var(--text); font-family: 'DM Sans', sans-serif; font-size: 0.95rem; }
    .email-form input::placeholder { color: var(--muted); }
    .email-form .btn-primary { transition: transform 0.25s ease, box-shadow 0.25s ease, filter 0.25s ease; }
    .email-form.typing .btn-primary { transform: scale(1.02); box-shadow: 0 0 18px rgba(240,114,100,0.3); }
    .signup-note { font-size: 0.78rem; color: var(--muted); margin-top: 1rem; }
    .social-proof { font-size: 0.85rem; color: var(--muted); margin-bottom: 1.4rem; opacity: 0.75; letter-spacing: 0.01em; }
    .social-proof .count-num { color: var(--text); font-weight: 600; }
    @keyframes mintPulse { 0%{box-shadow:0 0 0 0 rgba(61,232,216,0.3)} 60%{box-shadow:0 0 0 16px rgba(61,232,216,0)} 100%{box-shadow:0 0 0 0 rgba(61,232,216,0)} }
    .success-state { display: none; flex-direction: column; align-items: center; gap: 0.8rem; padding: 2rem; background: rgba(61,232,216,0.05); border: 1px solid rgba(61,232,216,0.18); border-radius: 20px; color: var(--mint); }
    .success-state.pulsing { animation: mintPulse 1.1s ease-out 2; }
    .success-state .check { font-size: 2rem; }
    @keyframes fadeInUp { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:translateY(0)} }
    .whats-next { margin-top: 1.2rem; padding-top: 1.2rem; border-top: 1px solid rgba(61,232,216,0.14); width: 100%; text-align: left; animation: fadeInUp 0.5s ease 0.2s both; }
    .whats-next h4 { font-family: 'Syne', sans-serif; font-size: 0.82rem; font-weight: 700; letter-spacing: 0.08em; text-transform: uppercase; color: var(--mint); opacity: 0.7; margin-bottom: 0.75rem; }
    .whats-next ol { list-style: none; display: flex; flex-direction: column; gap: 0.5rem; }
    .whats-next ol li { font-size: 0.88rem; color: var(--muted); display: flex; align-items: baseline; gap: 0.55rem; }
    .whats-next ol li::before { content: attr(data-n); font-family: 'Syne', sans-serif; font-weight: 700; font-size: 0.75rem; color: var(--mint); opacity: 0.6; flex-shrink: 0; }

    /* ABOUT */
    #about-page { display: none; padding-top: 80px; }
    .about-hero { padding: 5rem 0 3rem; }
    .about-content { max-width: 680px; }
    .about-content h1 { font-size: clamp(2.5rem, 5vw, 4rem); font-weight: 800; letter-spacing: -0.04em; margin-bottom: 0.5rem; }
    .about-divider { width: 48px; height: 3px; background: var(--gradient-h); border-radius: 3px; margin: 1.5rem 0; }
    .about-body { padding: 3rem 0 6rem; }
    .about-body p { font-size: 1.05rem; color: var(--muted); line-height: 1.85; margin-bottom: 1.5rem; }
    .about-body p strong { color: var(--text); font-weight: 500; }
    .about-body h3 { font-size: 1.4rem; font-weight: 700; margin: 2.5rem 0 0.8rem; color: var(--text); }
    .about-quote { border-left: 3px solid var(--accent-start); padding: 0.5rem 1.5rem; margin: 2rem 0; font-size: 1.1rem; color: var(--text); font-style: italic; line-height: 1.7; }

    /* FOOTER */
    footer { padding: 2.5rem 2rem; border-top: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 1rem; }
    footer span { font-size: 0.82rem; color: var(--muted); }
    footer a { font-size: 0.82rem; color: var(--muted); text-decoration: none; transition: color 0.2s; }
    footer a:hover { color: var(--text); }

    /* ‚îÄ‚îÄ CONTACT MODAL ‚îÄ‚îÄ */
    .modal-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(6px);
      z-index: 200;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }
    .modal-overlay.open { display: flex; }

    .modal {
      background: var(--bg2);
      border: 1px solid var(--border);
      border-radius: 24px;
      padding: 2.5rem;
      width: 100%;
      max-width: 460px;
      position: relative;
    }

    .modal-close {
      position: absolute;
      top: 1.2rem; right: 1.4rem;
      background: none; border: none;
      color: var(--muted); font-size: 1.4rem;
      cursor: pointer; line-height: 1;
      transition: color 0.2s;
    }
    .modal-close:hover { color: var(--text); }

    .modal h3 {
      font-family: 'Syne', sans-serif;
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 0.4rem;
    }
    .modal p { font-size: 0.9rem; color: var(--muted); margin-bottom: 1.8rem; }

    .contact-field {
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
      margin-bottom: 1rem;
    }
    .contact-field label {
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--muted);
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }
    .contact-field input,
    .contact-field textarea {
      background: var(--bg3);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 0.8rem 1rem;
      color: var(--text);
      font-family: 'DM Sans', sans-serif;
      font-size: 0.95rem;
      outline: none;
      transition: border-color 0.2s;
      width: 100%;
    }
    .contact-field input:focus,
    .contact-field textarea:focus { border-color: rgba(240,114,100,0.5); }
    .contact-field textarea { resize: vertical; min-height: 110px; }

    .contact-submit {
      width: 100%;
      margin-top: 0.5rem;
      justify-content: center;
      font-size: 1rem;
    }

    .contact-success {
      display: none;
      flex-direction: column;
      align-items: center;
      gap: 0.6rem;
      text-align: center;
      padding: 1rem 0;
    }
    .contact-success .check { font-size: 2.5rem; }
    .contact-success strong { font-size: 1.1rem; }
    .contact-success span { font-size: 0.85rem; color: var(--muted); }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      .hero-inner { grid-template-columns: 1fr; gap: 3rem; }
      .cards-float { height: 380px; }
      .creator-card { min-width: 150px; }
      .steps-grid { grid-template-columns: 1fr; gap: 1rem; }
      .compete-inner { grid-template-columns: 1fr; }
      .compete-features { grid-template-columns: 1fr 1fr; }
      .nav-links { display: none; }
      .email-form { flex-direction: column; border-radius: 16px; padding: 1rem; }
      .email-form input { padding: 0.5rem 0; }
      .btn { width: 100%; justify-content: center; }
      footer { flex-direction: column; text-align: center; }
    }

    /* ‚îÄ‚îÄ UPGRADE 1 ‚Äî expanded cards-float ‚îÄ‚îÄ */
    .cards-float { position: relative; height: 560px; }

    /* Asymmetric non-overlapping positions ‚Äî intentional visual rhythm */
    .creator-card:nth-child(1) {
      top: 0px; left: 4px;
      animation: float1 6s ease-in-out infinite;
    }
    .creator-card:nth-child(2) {
      top: 90px; right: 0px;
      animation: float2 7.5s ease-in-out infinite;
    }
    .creator-card:nth-child(3) {
      top: 290px; left: 24px;
      animation: float1 8s ease-in-out infinite reverse;
    }
    .creator-card:nth-child(4) {
      top: 370px; right: 16px;
      animation: float2 6s ease-in-out infinite;
    }

    /* ‚îÄ‚îÄ TICKER RAILS ‚îÄ‚îÄ */
    .ticker-left,
    .ticker-right {
      position: fixed;
      top: 0;
      width: 120px;
      height: 100vh;
      pointer-events: none;
      z-index: 1;
    }
    .ticker-left  { left: 0; }
    .ticker-right { right: 0; }
    .ticker-left canvas,
    .ticker-right canvas {
      width: 100%;
      height: 100%;
      display: block;
      opacity: 0.28;
    }
    @media (max-width: 768px) {
      .ticker-left, .ticker-right { display: none; }
    }
  </style>
</head>
<body>

<!-- ‚îÄ‚îÄ TICKER RAILS ‚îÄ‚îÄ -->
<div class="ticker-left"  aria-hidden="true"><canvas id="tickerL"></canvas></div>
<div class="ticker-right" aria-hidden="true"><canvas id="tickerR"></canvas></div>

<!-- NAV -->
<nav>
  <a href="#" class="logo" onclick="showPage('home'); return false;">
    <span class="v-mark">V</span>irezza
  </a>
  <div class="nav-links">
    <a href="#" onclick="showPage('home', 'how'); return false;">How It Works</a>
    <a href="#" onclick="showPage('home', 'compete'); return false;">Compete</a>
    <a href="#" onclick="showPage('about'); return false;">Our Story</a>
  </div>
  <a href="#" onclick="showPage('home', 'signup'); return false;" class="btn btn-primary" style="font-size:0.85rem; padding:0.6rem 1.2rem;">Get Early Access</a>
</nav>

<!-- HOME PAGE -->
<div id="home-page">

  <section class="hero">
    <div class="hero-bg"></div>
    <div class="container">
      <div class="hero-inner">
        <div>
          <div class="hero-tag"><div class="dot"></div>Now taking signups</div>
          <h1>Trade<br><span class="highlight">Influence.</span></h1>
          <p class="hero-sub">Virezza is the <strong>fantasy stock market for creators.</strong> Pick your favorites, track their rise, and compete with friends ‚Äî all for bragging rights.</p>
          <p class="hero-clarity">Buy creators before they blow up. Compete with friends. Win bragging rights.</p>
          <div class="hero-btns">
            <a href="#" onclick="showPage('home', 'signup'); return false;" class="btn btn-primary">Get Early Access</a>
            <a href="#" onclick="showPage('home', 'how'); return false;" class="btn btn-ghost">See How It Works</a>
          </div>
        </div>
        <div class="cards-float">
          <div class="creator-card">
            <div class="card-live-pill"><div class="live-dot"></div>LIVE</div>
            <div class="card-top"><div class="avatar" style="background:rgba(240,114,100,0.18)">üé•</div><div><div class="card-name">MrBeast</div><div class="card-handle">@mrbeast</div></div></div>
            <div class="card-price up">$412.80</div><div class="card-change up-bg">‚Üë +18.4%</div>
            <svg class="sparkline" viewBox="0 0 120 32" fill="none"><polyline points="0,28 20,22 40,20 60,14 80,8 100,5 120,2" stroke="#3de8d8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <div class="card-ticker">+1.2% in the last hour</div>
          </div>
          <div class="creator-card">
            <div class="card-top"><div class="avatar" style="background:rgba(155,143,224,0.18)">‚ú®</div><div><div class="card-name">Emma Chamberlain</div><div class="card-handle">@emmachamberlain</div></div></div>
            <div class="card-price up">$198.30</div><div class="card-change up-bg">‚Üë +7.2%</div>
            <svg class="sparkline" viewBox="0 0 120 32" fill="none"><polyline points="0,24 20,20 40,22 60,16 80,12 100,9 120,6" stroke="#3de8d8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <div class="creator-card">
            <div class="card-top"><div class="avatar" style="background:rgba(61,232,216,0.13)">üéÆ</div><div><div class="card-name">Kai Cenat</div><div class="card-handle">@kaicenat</div></div></div>
            <div class="card-price up">$265.40</div><div class="card-change up-bg">‚Üë +11.6%</div>
            <svg class="sparkline" viewBox="0 0 120 32" fill="none"><polyline points="0,26 20,21 40,23 60,15 80,10 100,6 120,3" stroke="#3de8d8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <div class="creator-card">
            <div class="card-top"><div class="avatar" style="background:rgba(255,140,107,0.15)">üì±</div><div><div class="card-name">Marques Brownlee</div><div class="card-handle">@mkbhd</div></div></div>
            <div class="card-price down">$153.75</div><div class="card-change down-bg">‚Üì ‚àí2.3%</div>
            <svg class="sparkline" viewBox="0 0 120 32" fill="none"><polyline points="0,6 20,10 40,8 60,14 80,18 100,22 120,26" stroke="#f05070" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="hero-bridge">
    <div class="container">
      <div class="stat-bar">
        <p class="stat-bar-text"><strong>200+ million creators. Billions of fans.</strong> No way to prove you saw it first ‚Äî until now.</p>
      </div>
    </div>
  </div>

  <section class="how" id="how">
    <div class="container">
      <div class="section-label">How it works</div>
      <h2 class="section-title">Three steps.<br>One leaderboard.</h2>
      <p class="section-sub">No trading experience needed. If you know creators, you've got an edge.</p>
      <div class="steps-grid">
        <div class="step-card">
          <div class="step-num">STEP 01</div><span class="step-icon">üéØ</span>
          <div class="step-title">Pick creators you believe in</div>
          <p class="step-desc">Browse the creator market and build your portfolio. Bet on the ones you think are about to blow up ‚Äî before everyone else does.</p>
        </div>
        <div class="step-card">
          <div class="step-num">STEP 02</div><span class="step-icon">üìà</span>
          <div class="step-title">Watch their influence move the market</div>
          <p class="step-desc">Creator prices are driven by real metrics ‚Äî views, followers, engagement. When they go viral, your portfolio goes with them.</p>
        </div>
        <div class="step-card">
          <div class="step-num">STEP 03</div><span class="step-icon">üèÜ</span>
          <div class="step-title">Compete and climb the leaderboard</div>
          <p class="step-desc">Your picks compete against your friends in weekly leagues and seasonal events. The best scout wins.</p>
        </div>
      </div>

      <!-- WHAT IF BLOCK -->
      <div class="whatif-wrap" id="whatif-block">
        <div class="whatif-block">
          <div class="whatif-eyebrow">A thought experiment</div>
          <h3 class="whatif-headline">What if you saw it first?</h3>
          <p class="whatif-sub">What if you bought MrBeast at 10,237 subscribers?</p>

          <div class="whatif-inner">

            <!-- NODES ROW ‚Äî side by side above the graph -->
            <div class="whatif-nodes-row">
              <div class="whatif-node">
                <div class="whatif-node-label">Then ¬∑ 2014</div>
                <div class="whatif-subs">10,237 subscribers</div>
                <div class="whatif-price">$1.12</div>
              </div>
              <div class="whatif-node" style="text-align:right; align-items:flex-end;">
                <div class="whatif-node-label">Now ¬∑ 2026</div>
                <div class="whatif-subs">412,508,391 subscribers</div>
                <div class="whatif-price now">$4,812.47</div>
              </div>
            </div>

            <!-- FULL-WIDTH GRAPH -->
            <div class="whatif-chart-col">
              <svg viewBox="0 0 560 160" fill="none" xmlns="http://www.w3.org/2000/svg" style="overflow:visible;">
                <defs>
                  <linearGradient id="lineGradH" x1="0" y1="0" x2="1" y2="0" gradientUnits="objectBoundingBox">
                    <stop offset="0%"   stop-color="#f07264"/>
                    <stop offset="45%"  stop-color="#f5b06e"/>
                    <stop offset="100%" stop-color="#3de8d8"/>
                  </linearGradient>
                  <linearGradient id="fillGradV" x1="0" y1="0" x2="0" y2="1">
                    <stop offset="0%"   stop-color="#3de8d8" stop-opacity="0.12"/>
                    <stop offset="100%" stop-color="#3de8d8" stop-opacity="0"/>
                  </linearGradient>
                  <!-- glow filter for end dot -->
                  <filter id="mintGlow" x="-100%" y="-100%" width="300%" height="300%">
                    <feGaussianBlur stdDeviation="4" result="blur"/>
                    <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
                  </filter>
                </defs>

                <!-- Subtle horizontal grid lines -->
                <line x1="40" y1="20"  x2="536" y2="20"  stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                <line x1="40" y1="55"  x2="536" y2="55"  stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                <line x1="40" y1="90"  x2="536" y2="90"  stroke="rgba(255,255,255,0.04)" stroke-width="1"/>
                <!-- X axis -->
                <line x1="40" y1="125" x2="536" y2="125" stroke="rgba(255,255,255,0.1)"  stroke-width="1"/>

                <!-- Area fill -->
                <!--
                  Curve logic (log-like):
                  2014 (x=40,  y=123) ‚Äî near flat
                  2018 (x=205, y=112) ‚Äî slight uptick
                  2022 (x=370, y=72)  ‚Äî accelerating
                  2026 (x=536, y=14)  ‚Äî hockey stick peak
                -->
                <path d="M40,123 C80,122 140,120 205,112 C270,104 310,88 370,72 C420,58 470,32 536,14 L536,125 L40,125 Z"
                      fill="url(#fillGradV)"/>

                <!-- Curve line -->
                <path d="M40,123 C80,122 140,120 205,112 C270,104 310,88 370,72 C420,58 470,32 536,14"
                      stroke="url(#lineGradH)" stroke-width="2.5" stroke-linecap="round" fill="none"/>

                <!-- Vertical tick lines (dashed, very faint) -->
                <line x1="40"  y1="123" x2="40"  y2="126" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                <line x1="205" y1="112" x2="205" y2="126" stroke="rgba(255,255,255,0.12)" stroke-width="1" stroke-dasharray="3,3"/>
                <line x1="370" y1="72"  x2="370" y2="126" stroke="rgba(255,255,255,0.12)" stroke-width="1" stroke-dasharray="3,3"/>
                <line x1="536" y1="14"  x2="536" y2="126" stroke="rgba(61,232,216,0.18)" stroke-width="1" stroke-dasharray="3,3"/>

                <!-- Data point 1 ¬∑ 2014 (coral) -->
                <circle cx="40"  cy="123" r="4.5" fill="#f07264"/>

                <!-- Data point 2 ¬∑ 2018 (neutral) -->
                <circle cx="205" cy="112" r="3"   fill="rgba(155,143,224,0.6)"/>

                <!-- Data point 3 ¬∑ 2022 (neutral) -->
                <circle cx="370" cy="72"  r="3"   fill="rgba(155,143,224,0.6)"/>

                <!-- Data point 4 ¬∑ 2026 (mint, glowing) -->
                <circle cx="536" cy="14"  r="5"   fill="#3de8d8" filter="url(#mintGlow)"/>
                <circle cx="536" cy="14"  r="10"  fill="#3de8d8" opacity="0.12"/>

                <!-- Subscriber callout labels (small, above data points) -->
                <text x="40"  y="108" text-anchor="middle" font-size="9" font-family="DM Sans,sans-serif" fill="rgba(240,114,100,0.85)">10K</text>
                <text x="205" y="97"  text-anchor="middle" font-size="9" font-family="DM Sans,sans-serif" fill="rgba(155,143,224,0.6)">25M</text>
                <text x="370" y="57"  text-anchor="middle" font-size="9" font-family="DM Sans,sans-serif" fill="rgba(155,143,224,0.6)">140M</text>
                <text x="536" y="7"   text-anchor="middle" font-size="9" font-family="DM Sans,sans-serif" fill="rgba(61,232,216,0.9)">412M</text>

                <!-- Year labels on x axis -->
                <text x="40"  y="140" text-anchor="middle" font-size="10" font-family="DM Sans,sans-serif" fill="rgba(122,116,144,0.65)">2014</text>
                <text x="205" y="140" text-anchor="middle" font-size="10" font-family="DM Sans,sans-serif" fill="rgba(122,116,144,0.65)">2018</text>
                <text x="370" y="140" text-anchor="middle" font-size="10" font-family="DM Sans,sans-serif" fill="rgba(122,116,144,0.65)">2022</text>
                <text x="536" y="140" text-anchor="middle" font-size="10" font-family="DM Sans,sans-serif" fill="rgba(61,232,216,0.75)">2026</text>
              </svg>
              <p style="font-size:0.72rem; color:var(--muted); opacity:0.4; margin-top:0.6rem; text-align:center;">On Virezza, creator prices grow with audience and engagement.</p>
            </div>

          </div><!-- end .whatif-inner -->

          <div style="text-align:center;">
            <div class="whatif-growth-pct">‚Üë +429,500% growth</div>
          </div>

          <div class="whatif-coins">
            If you invested <strong>10,000 Virezza Coins</strong> early ‚Äî
            you'd now have <span class="highlight-coin">42,965,000 Coins.</span>
          </div>
        </div>
        <p class="whatif-disclaimer">Example shown for illustrative purposes only. Creator not affiliated.</p>
      </div>
      <!-- END WHAT IF BLOCK -->

    </div>
  </section>

  <section class="compete" id="compete">
    <div class="container">
      <div class="compete-inner">
        <div>
          <div class="section-label">Compete</div>
          <h2 class="section-title">This is where<br>fandom gets <span style="color:var(--lavender)">serious.</span></h2>
          <p class="section-sub" style="margin-bottom:0">The bragging rights are real. The competition is friendly. The pressure? Very, very real.</p>
          <div class="compete-features">
            <div class="feature-pill"><span class="feature-emoji">üèüÔ∏è</span><div class="feature-label">Custom Leagues</div><div class="feature-desc">Invite your crew, make your own rules</div></div>
            <div class="feature-pill"><span class="feature-emoji">üåä</span><div class="feature-label">Seasonal Challenges</div><div class="feature-desc">New markets open every season</div></div>
            <div class="feature-pill"><span class="feature-emoji">üöÄ</span><div class="feature-label">Creator IPOs</div><div class="feature-desc">Get in early on rising stars</div></div>
            <div class="feature-pill"><span class="feature-emoji">üéâ</span><div class="feature-label">Friendly Rivalries</div><div class="feature-desc">Settle the debate for good</div></div>
          </div>
        </div>
        <div class="leaderboard-mock">
          <div class="lb-header"><div class="lb-title">This Week's League</div><div class="lb-badge">LIVE</div></div>
          <div class="lb-row"><div class="lb-rank gold">1</div><div class="lb-av" style="background:rgba(245,200,66,0.15)">üëë</div><div class="lb-name">jordanfm</div><div class="lb-score up">+$4,210</div></div>
          <div class="lb-row"><div class="lb-rank">2</div><div class="lb-av" style="background:rgba(155,143,224,0.15)">üåô</div><div class="lb-name">nightowl99</div><div class="lb-score up">+$3,840</div></div>
          <div class="lb-row"><div class="lb-rank">3</div><div class="lb-av" style="background:rgba(240,114,100,0.15)">üî•</div><div class="lb-name">superfan_lex</div><div class="lb-score up">+$2,990</div></div>
          <div class="lb-row lb-row-you"><div class="lb-rank">4</div><div class="lb-av" style="background:rgba(61,232,216,0.12)">üë§</div><div class="lb-name">You</div><div class="lb-score-you">0 Coins (yet)</div></div>
        </div>
      </div>
    </div>
  </section>

  <section class="signup" id="signup">
    <div class="container">
      <div class="signup-box">
        <div class="section-label" style="text-align:center">Early access</div>
        <h2 class="section-title" style="margin-bottom:0.5rem">Be first in line.</h2>
        <p>Drop your email. We'll let you know the moment Virezza goes live ‚Äî plus early access perks.</p>
        <p class="social-proof">Join <span class="count-num" id="fan-count">0</span> early fans ‚Äî private beta opens to the first 2,000.</p>
        <form class="email-form" id="signup-form" onsubmit="handleSignup(event)">
          <input type="email" id="email-input" placeholder="your@email.com" required autocomplete="email" />
          <button type="submit" class="btn btn-primary">Get Early Access</button>
        </form>
        <div class="success-state" id="success-msg">
          <div class="check">‚úÖ</div>
          <strong>You're on the list!</strong>
          <span style="font-size:0.85rem; color:var(--muted)">We'll be in touch soon. Get ready to trade influence.</span>
          <div class="whats-next">
            <h4>Here's what happens next:</h4>
            <ol>
              <li data-n="1.">We're building the private beta.</li>
              <li data-n="2.">Early members get priority access.</li>
              <li data-n="3.">First leagues launch soon.</li>
            </ol>
          </div>
        </div>
        <p class="signup-note">No spam. No selling your info. Just the launch update.</p>
      </div>
    </div>
  </section>

</div>
<!-- END HOME PAGE -->

<!-- ABOUT PAGE -->
<div id="about-page">
  <section class="about-hero">
    <div class="container">
      <div class="about-content">
        <div class="section-label">Our Story</div>
        <h1>We built the game<br>fans deserved.</h1>
        <div class="about-divider"></div>
      </div>
    </div>
  </section>
  <section class="about-body">
    <div class="container">
      <div class="about-content">
        <p><strong>We've always been fans first.</strong> Fans of creators, of communities, of the way the internet makes stars out of people who just started making stuff in their bedroom. And like a lot of fans, we spent years yelling "this person is going to blow up" ‚Äî only to have no way to prove it.</p>
        <h3>The Creator Economy is the biggest thing happening.</h3>
        <p>Creators now move culture. They shape music charts, buying decisions, trends, and conversations faster than any traditional media ever could. There are hundreds of millions of them ‚Äî and <strong>billions of people</strong> following along. But the fans who spotted them early? They got nothing except a screenshot and an "I told you so."</p>
        <div class="about-quote">"What if knowing creators before they blow up actually meant something?"</div>
        <p>That question is why Virezza exists. We wanted to build a place where your taste, your instincts, and your insider knowledge of who's about to pop off ‚Äî <strong>actually matter.</strong></p>
        <h3>Competition makes fandom more fun.</h3>
        <p>Fantasy sports proved it. When your picks have stakes, you watch differently. You root harder. You care more. The same magic works with creators. When you've got a portfolio riding on your favorites ‚Äî and your friends are competing against you ‚Äî every viral moment, every new upload, every follower milestone hits different.</p>
        <p>Virezza isn't about money. It's about the oldest thing in fandom: <strong>bragging rights.</strong> And finally, those rights are earned by the ones who were right all along.</p>
        <h3>Where we're headed.</h3>
        <p>We're building a world where being a great fan is a skill. Where discovering the next big creator earns you something. Where competition between friends happens in real time, fueled by real culture.</p>
        <p>We're just getting started ‚Äî and we want the people who get it earliest to be part of shaping what this becomes.</p>
        <div style="margin-top:3rem">
          <a href="#" onclick="showPage('home', 'signup'); return false;" class="btn btn-primary">Join the waitlist</a>
        </div>
      </div>
    </div>
  </section>
</div>
<!-- END ABOUT PAGE -->

<p style="text-align:center; font-size:0.73rem; color:var(--muted); opacity:0.5; padding: 1.5rem 2rem 0; line-height:1.5;">Creator names shown for illustrative purposes only. No affiliation or endorsement implied.</p>

<footer>
  <a href="#" class="logo" onclick="showPage('home'); return false;" style="font-size:1.1rem;"><span class="v-mark">V</span>irezza</a>
  <span>¬© 2025 Virezza. All rights reserved.</span>
  <div style="display:flex; gap:1.5rem;">
    <a href="#" onclick="showPage('about'); return false;">Our Story</a>
    <a href="#" onclick="openContact(); return false;">Contact</a>
  </div>
</footer>

<!-- CONTACT MODAL -->
<div class="modal-overlay" id="contact-modal" onclick="handleOverlayClick(event)">
  <div class="modal">
    <button class="modal-close" onclick="closeContact()">‚úï</button>

    <div id="contact-form-wrap">
      <h3>Say hello üëã</h3>
      <p>Got a question, idea, or just want to reach out? We'll get back to you.</p>

      <form onsubmit="handleContact(event)">
        <div class="contact-field">
          <label>Your Name</label>
          <input type="text" id="contact-name" placeholder="Jane Smith" required />
        </div>
        <div class="contact-field">
          <label>Your Email</label>
          <input type="email" id="contact-email" placeholder="jane@email.com" required />
        </div>
        <div class="contact-field">
          <label>Message</label>
          <textarea id="contact-message" placeholder="What's on your mind?" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary contact-submit">Send Message</button>
      </form>
    </div>

    <div class="contact-success" id="contact-success">
      <div class="check">‚úÖ</div>
      <strong>Message sent!</strong>
      <span>We'll get back to you soon.</span>
    </div>
  </div>
</div>

<script>
  // SUPABASE
  var sbClient = window.supabase.createClient(
    'https://rnevtptdxzbkbtotjszj.supabase.co',
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJuZXZ0cHRkeHpia2J0b3Rqc3pqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE1MTk4NzQsImV4cCI6MjA4NzA5NTg3NH0.n4v_n_3qd95ADxpnJ7aK9QtVDEa7E_680BASxerzM4Y'
  );

  // PAGE SWITCHING
  function showPage(page, scrollTo) {
    document.getElementById('home-page').style.display  = (page === 'home')  ? 'block' : 'none';
    document.getElementById('about-page').style.display = (page === 'about') ? 'block' : 'none';
    if (scrollTo) {
      setTimeout(function() {
        var el = document.getElementById(scrollTo);
        if (el) el.scrollIntoView({ behavior: 'smooth' });
      }, 120);
    } else {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  }

  // CONTACT MODAL
  function openContact() {
    document.getElementById('contact-modal').classList.add('open');
    document.body.style.overflow = 'hidden';
  }
  function closeContact() {
    document.getElementById('contact-modal').classList.remove('open');
    document.body.style.overflow = '';
  }
  function handleOverlayClick(e) {
    if (e.target === document.getElementById('contact-modal')) closeContact();
  }
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') closeContact();
  });

  async function handleContact(e) {
    e.preventDefault();
    var name    = document.getElementById('contact-name').value;
    var email   = document.getElementById('contact-email').value;
    var message = document.getElementById('contact-message').value;

    var btn = e.target.querySelector('button[type="submit"]');
    btn.disabled = true;
    btn.textContent = 'Sending...';

    try {
      var res = await fetch('https://formspree.io/f/xqeddwyk', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
        body: JSON.stringify({ name: name, email: email, message: message })
      });

      if (res.ok) {
        document.getElementById('contact-form-wrap').style.display = 'none';
        document.getElementById('contact-success').style.display = 'flex';
      } else {
        throw new Error('Failed');
      }
    } catch (err) {
      btn.disabled = false;
      btn.textContent = 'Send Message';
      alert('Something went wrong. Please try again.');
    }
  }

  // EMAIL SIGNUP
  async function handleSignup(e) {
    e.preventDefault();
    var email = document.getElementById('email-input').value;
    if (!email) return;

    var btn = document.querySelector('#signup-form button');
    btn.disabled = true;
    btn.textContent = 'Saving...';

    var result = await sbClient.from('signups').insert({ email: email });

    if (result.error) {
      btn.disabled = false;
      btn.textContent = 'Get Early Access';
      alert('Oops! Something went wrong. Please try again.');
      console.error('Supabase error:', result.error.message);
      return;
    }

    document.getElementById('signup-form').style.display = 'none';
    var successEl = document.getElementById('success-msg');
    successEl.style.display = 'flex';
    // Mint pulse effect
    successEl.classList.remove('pulsing');
    void successEl.offsetWidth; // reflow to restart animation
    successEl.classList.add('pulsing');
  }

  // COUNT-UP ANIMATION
  function animateCount(el, target, duration) {
    var start = 0;
    var step = target / (duration / 16);
    var current = 0;
    var timer = setInterval(function() {
      current = Math.min(current + step, target);
      el.textContent = Math.floor(current).toLocaleString();
      if (current >= target) clearInterval(timer);
    }, 16);
  }

  // SCROLL OBSERVER for count-up
  var countTriggered = false;
  var signupSection = document.getElementById('signup');
  if (signupSection) {
    var observer = new IntersectionObserver(function(entries) {
      if (entries[0].isIntersecting && !countTriggered) {
        countTriggered = true;
        var el = document.getElementById('fan-count');
        if (el) animateCount(el, 1284, 1400);
      }
    }, { threshold: 0.3 });
    observer.observe(signupSection);
  }

  // TYPING MICRO-INTERACTION
  var emailInput = document.getElementById('email-input');
  var emailForm  = document.getElementById('signup-form');
  if (emailInput && emailForm) {
    emailInput.addEventListener('input', function() {
      if (emailInput.value.length > 0) {
        emailForm.classList.add('typing');
      } else {
        emailForm.classList.remove('typing');
      }
    });
  }

  // WHAT-IF FADE IN
  var whatifEl = document.getElementById('whatif-block');
  if (whatifEl) {
    var whatifObs = new IntersectionObserver(function(entries) {
      if (entries[0].isIntersecting) {
        whatifEl.classList.add('in-view');
        whatifObs.disconnect();
      }
    }, { threshold: 0.15 });
    whatifObs.observe(whatifEl);
  }

  // CHANGE 2 ‚Äî gently update ticker value every ~12s so it feels live
  (function() {
    var ticker = document.querySelector('.card-ticker');
    if (!ticker) return;
    var vals = ['+0.8%', '+1.2%', '+1.5%', '+0.6%', '+2.1%', '+1.9%'];
    var i = 1;
    setInterval(function() {
      ticker.style.transition = 'opacity 0.4s';
      ticker.style.opacity = '0';
      setTimeout(function() {
        if (!ticker) return;
        ticker.textContent = vals[i % vals.length] + ' in the last hour';
        ticker.style.opacity = '0.7';
        i++;
      }, 420);
    }, 12000);
  })();
</script>

<script>
// ‚îÄ‚îÄ TICKER RAILS ‚Äî Canvas renderer ‚îÄ‚îÄ
(function() {
  if (window.innerWidth <= 768) return;

  // Palette colours
  var COLORS = ['#f07264', '#f5b06e', '#f5c87a', '#3de8d8', '#7a8cff'];

  // Build a seeded deterministic market-like price series
  function makeSeries(seed, length, w) {
    var pts = [];
    var price = w * 0.55;
    var rng = seed;
    function rand() {
      rng = (rng * 16807 + 0) % 2147483647;
      return (rng - 1) / 2147483646;
    }
    for (var i = 0; i < length; i++) {
      // angular market move: small steps most of the time, occasional bigger jump
      var move = (rand() - 0.49) * w * 0.18;
      if (rand() > 0.82) move *= 2.4; // spike
      price += move;
      price = Math.max(w * 0.08, Math.min(w * 0.92, price));
      pts.push(price);
    }
    return pts;
  }

  function initTicker(canvasEl, seed, colors, speedPx, direction) {
    var parent = canvasEl.parentElement;
    var W = parent.offsetWidth;
    var H = parent.offsetHeight;
    canvasEl.width  = W;
    canvasEl.height = H;

    // Generate enough points to fill 3√ó the canvas height so scroll loops cleanly
    var segH  = 28;                       // pixels between y-points
    var count = Math.ceil(H * 3 / segH) + 4;
    var pts   = makeSeries(seed, count, W);

    // Volume bars: position and width
    var bars = [];
    for (var b = 0; b < count; b += 4) {
      bars.push({ yi: b, bw: 4 + Math.floor((seed * (b + 1)) % 11) });
    }

    var offset = 0;
    var totalH = count * segH;            // total scrollable height

    var ctx = canvasEl.getContext('2d');
    var lastTs = null;

    function draw(ts) {
      if (lastTs === null) lastTs = ts;
      var dt = ts - lastTs;
      lastTs = ts;

      offset = (offset + speedPx * dt / 1000) % totalH;

      ctx.clearRect(0, 0, W, H);

      // Draw two copies (current + wrapped) so the loop is seamless
      for (var copy = 0; copy < 2; copy++) {
        var baseY = -offset + copy * totalH;

        // Gradient: coral ‚Üí gold ‚Üí teal ‚Üí periwinkle across the full path height
        var grad = ctx.createLinearGradient(0, baseY, 0, baseY + totalH);
        for (var ci = 0; ci < colors.length; ci++) {
          grad.addColorStop(ci / (colors.length - 1), colors[ci]);
        }

        // Main market line
        ctx.beginPath();
        ctx.strokeStyle = grad;
        ctx.lineWidth   = 1.4;
        ctx.lineJoin    = 'round';
        ctx.lineCap     = 'round';

        for (var pi = 0; pi < pts.length; pi++) {
          var x = pts[pi];
          var y = baseY + pi * segH;
          if (pi === 0) ctx.moveTo(x, y);
          else          ctx.lineTo(x, y);
        }
        ctx.stroke();

        // Subtle glow pass (wider, very low alpha)
        ctx.beginPath();
        ctx.strokeStyle = colors[0];
        ctx.lineWidth   = 4;
        ctx.globalAlpha = 0.06;
        for (var pi2 = 0; pi2 < pts.length; pi2++) {
          var x2 = pts[pi2];
          var y2 = baseY + pi2 * segH;
          if (pi2 === 0) ctx.moveTo(x2, y2);
          else           ctx.lineTo(x2, y2);
        }
        ctx.stroke();
        ctx.globalAlpha = 1;

        // Volume tick marks
        for (var bi = 0; bi < bars.length; bi++) {
          var byi = bars[bi].yi;
          var by  = baseY + byi * segH;
          var bx  = direction === 'left' ? 0 : W - bars[bi].bw;
          var col = colors[Math.floor(byi / count * colors.length)];
          ctx.fillStyle = col;
          ctx.globalAlpha = 0.35;
          ctx.fillRect(bx, by - 0.5, bars[bi].bw, 1.5);
          ctx.globalAlpha = 1;
        }
      }

      requestAnimationFrame(draw);
    }

    requestAnimationFrame(draw);
  }

  // Left: coral‚Üígold‚Üíteal, drifts downward at 28px/s
  var cL = document.getElementById('tickerL');
  if (cL) initTicker(cL, 31337, ['#f07264','#f5b06e','#f5c87a','#3de8d8','#7a8cff'], 28, 'left');

  // Right: periwinkle‚Üíteal‚Üígold‚Üícoral (reversed), drifts downward at 22px/s (different speed)
  var cR = document.getElementById('tickerR');
  if (cR) initTicker(cR, 98761, ['#7a8cff','#3de8d8','#f5b06e','#f07264'], 22, 'right');
})();
</script>

</body>
</html>
